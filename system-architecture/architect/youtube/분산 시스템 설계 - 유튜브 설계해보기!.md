요즘 너무 설계 내용만 포스팅해서 유튜브 설계 내용은 포스팅하지 않겠다고 생각했는데..

유튜브 설계 내용이 생각외로 되게 재밌어서 또 포스팅하게 됬다!

이번 포스팅은 **가상 면접 사례로 배우는 대규모 시스템 설계 기초**에 기반한 내용이다.

## 개략적 설계

유튜브 시스템은 언뜻 보기에는 간단해 보일 수 있지만 실제로는 굉장히 복잡하다. 아래는 유튜브에 대한 통계 자료이다.
- MAU: 21억
- 매일 재생되는 비디오 수: 50억
- 5천만 명의 창작자
- 모바일 인터넷 트래픽 가운데 37%를 점유
- 2019년 기준 연간 광고 수입이 150억 달러
- 80개 언어로 이용 가능

기본적으로 유튜브는 단순히 비디오를 생성하고 보는 것 이외에도 댓글, 공유, 좋아요, 재생목록, 채널, 구독 등과 같은 다양한 기능을 제공한다. 해당 기능들을 이번 포스팅에서 다 다루기는 어려렵다. 아래 설계에서는 비디오를 업로드하고 재생하는 것에 집중한다.

#### 요구사항

- 가장 중요한 기능: 비디오를 올리고 시청하는 기능
- 클라이언트: 모바일 앱, 웹 브라우저, 스마트 TV
- 일간 능동 사용자 수: 500만 명
- 10% 사용자가 하루에 1개의 비디오 업로드
- 다국어 지원: 모든 언어로도 이용 가능해야 함
- 비디오 해상도: 현존하는 대부분을 지원
- 암호화 필요: O
- 비디오 파일 크기: 최대 1GB로 제한 (크지 않은 Size에 집중)
- AWS, GCP, Azure의 클라우드 서비스 활용 가능 여부: O

아래는 성능. 안정성에 대한 요구사항 명세이다.
- 빠른 비디오 업로드
- 원활한 재생
- 재생 품질 선택 기능
- 낮은 인프라 비용
- 높은 가용성과 규모 확장성, 안정성

#### 클라우드 비용 산정

아래는 클라우드 비용을 산정한 것이다.
- 일간 능동 사용자 수: 500만 명, 한 사용자는 하루 평균 5개의 비디오 시청, 10% 사용자가 하루에 1개의 비디오 업로드,  
