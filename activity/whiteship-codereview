# 백기선님 공개 코드 리뷰 받기! with 300명 22/09/17 (Package Structure, Test Code, DDD, ...)

최근에 백기선님이 유튜브에서 공개 코드 리뷰를 시작하셨다.

리뷰 내용을 보고 영감을 얻은 부분이 있었고, 부족한 부분을 알고 싶다는 생각에 용기를 내 신청했다..!

코드 리뷰 영상은 아래 링크에서 확인할 수 있다. (백기선 유튜브 - 멤버십 회원 전용 영상)
- https://www.youtube.com/watch?v=w3QKOHSIZig

내가 리뷰 받을 코드는 초기 상태의 코드라서 설명이 부족해서 미리 양해를 구했다..!

![img.png](img.png)

답변이 왔다.

**백기선님**: 아 물론이죠! 아직 완성 안된 프로젝트도 리뷰 가능합니다!

그래서 신청을 했다..!

## 리뷰 시작

리뷰를 할 때 실시간 접속자는 300분 정도 계셨다..!

![img_1.png](img_1.png)

**백기선님**: 코드 리뷰를 어디로 중점적으로 보면 좋을까요?!

**본인**: 어.. 프로젝트 초기 단계라서 **패키지 구조**나 **테스트 코드** 위주로 봐주시면 감사하겠습니다..!
(패키지 구조나 테스트 코드 구조는 잡았기 때문..! 사실 전체적으로 봐주셨다 ㅋㅋ..)

(... 간단한 팀소개 ...)

**백기선님**: 팀을 어떻게 만나신거에요??

**본인**: 제가 첫회사에 들어온 지 10개월차 정도인데 저도 네이버, 라인, 배달의 민족에 이직을 하고 싶은 생각이 들었는데.. **지표가 약간 부족**하다보니까 **사이드 프로젝트**를 해봐야겠다고 하는데 인맥이 없어서 사이드 프로젝트할 인원을 구하는 **카카오톡 오픈 채팅방**에 들어가서 팀을 구해서 진행하게 되었습니다.

ㅋㅋㅋ.. 이후에도 간단한 만담 진행 후 바로 리뷰를 진행해주셨다.

### 리뷰 진행
![img_3.png](img_3.png)

**백기선님**: API 패키지는 우선 도메인 별로 나눠 놓았네요! (account, artist, common, ...) 그쵸..! Common이 항상 생기죠 ㅎㅎ. Config는 Spring 설정파일 놓아둔 곳이고! 그래서 주요한 도메인은 account, artist, contest, cover, song인 것 같네요..! 

**본인**: 네네!

![img_2.png](img_2.png)

**백기선님**: 근데 이게 command가 뭔 뜻이에요..?! (song/command를 가리키시며..)

**본인**: 그게 CQRS 패턴이라고 command랑 query랑 모델을 분리하는 패턴입니다..!

**백기선님**: 아 CQRS..! 그런데 도메인 자체가 command에요?

**본인**: 넵넵..! 그렇게 사용했습니다.

**백기선님**: 아 그래요..? OK... 저는 조금 생소하지만~ ㅎㅎ

**본인**: ㅎㅎ..

![img_4.png](img_4.png)

**백기선님**: 오.. 이렇게 하셨네..! 이렇게 하신 이유가 있나요??

**본인**: '이렇게'가 저기 id참조 말씀이신가요?!

**백기선님**: 네네. JPA를 쓰셨는데 Artist랑 연관 관계를 맺은게 아니라, 그냥 이거는 사실상 관계가 없는 거죠..! DB를 표현한거죠..! 사실 이거를 제대로 쓸려면 Artist가 되야 하지 않아요..?!

**본인**: 아 네..! 사실 알고는 있는데, 이게 도메인을 라이프 사이클을 기준으로 객체 참조를 할 지 ID 참조를 할 지 정한다구 그러더라구요..! 그래서 라이프 사이클이 같지 않은 것 같아서 ID 참조를 걸었는데, 맞는 것인지는 잘 모르겠습니다!

**백기선님**: 아 ㅎㅎ 자 그럼 라이프 사이클에 대해서 한번 이야기해볼까요?? 말씀하신 라이프 사이클은 어떤 거죠??

**본인**: 가수인 Artist를 생성할 때랑 Song을 생성하고 삭제할 때랑 시점이 다르니까..! 네 그래서 분리했던 것 같습니다.
